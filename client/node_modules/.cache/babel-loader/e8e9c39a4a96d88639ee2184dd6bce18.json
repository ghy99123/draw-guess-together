{"ast":null,"code":"var _jsxFileName = \"/Users/ghy/cs/program/draw-guess-together/client/src/context/AppContext.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useReducer } from \"react\";\nimport io from \"socket.io-client\";\nimport { url } from \"../constant/url\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// export type IAction = {\n//   type: string;\n//   payload: any;\n// };\nconst initialState = {\n  socket: io(url),\n  userName: \"\",\n  uid: null,\n  onlineCount: 0,\n  room: null\n};\n\nconst reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"update_info\":\n      return { ...state,\n        ...payload\n      };\n\n    case \"update_rootm\":\n      return { ...state,\n        room: payload\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nconst AppContext = /*#__PURE__*/createContext({\n  state: initialState,\n  dispatch: () => {}\n});\n\nconst AppContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const value = {\n    state,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 10\n  }, this);\n};\n\n_s(AppContextProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c = AppContextProvider;\nexport { AppContext, AppContextProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContextProvider\");","map":{"version":3,"names":["React","createContext","useReducer","io","url","initialState","socket","userName","uid","onlineCount","room","reducer","state","action","type","payload","Error","AppContext","dispatch","AppContextProvider","children","value"],"sources":["/Users/ghy/cs/program/draw-guess-together/client/src/context/AppContext.tsx"],"sourcesContent":["import React, { createContext, useReducer } from \"react\";\nimport io, { Socket } from \"socket.io-client\";\nimport { url } from \"../constant/url\";\nimport { IAction } from \"../types/IAction\";\nimport { Room } from \"../types/IGameData\";\nimport { ClientToServerEvents, ServerToClientEvents } from \"../types/ISocket\";\n\ninterface IAppState {\n  socket: Socket<ServerToClientEvents, ClientToServerEvents>;\n  userName: string;\n  uid: string | null;\n  onlineCount: number;\n  room: Room | null;\n \n}\n\n// export type IAction = {\n//   type: string;\n//   payload: any;\n// };\n\nconst initialState: IAppState = {\n  socket: io(url),\n  userName: \"\",\n  uid: null,\n  onlineCount: 0,\n  room: null\n};\n\nexport interface IAppContext {\n  state: IAppState;\n  dispatch: React.Dispatch<IAction>;\n}\n\nconst reducer = (state: IAppState, action: IAction): typeof initialState => {\n  const { type, payload } = action;\n  switch (type) {\n    case \"update_info\":\n      return { ...state, ...payload };\n    case \"update_rootm\":\n      return { ...state, room: payload};\n    default:\n      throw new Error();\n  }\n};\n\nconst AppContext = createContext<IAppContext>({\n  state: initialState,\n  dispatch: () => {},\n});\n\ntype Props = {\n  children?: React.ReactNode;\n};\n\nconst AppContextProvider: React.FC<Props> = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const value = { state, dispatch };\n\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};\n\nexport { AppContext, AppContextProvider };\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,QAAiD,OAAjD;AACA,OAAOC,EAAP,MAA2B,kBAA3B;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAcA;AACA;AACA;AACA;AAEA,MAAMC,YAAuB,GAAG;EAC9BC,MAAM,EAAEH,EAAE,CAACC,GAAD,CADoB;EAE9BG,QAAQ,EAAE,EAFoB;EAG9BC,GAAG,EAAE,IAHyB;EAI9BC,WAAW,EAAE,CAJiB;EAK9BC,IAAI,EAAE;AALwB,CAAhC;;AAaA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAmBC,MAAnB,KAA4D;EAC1E,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBF,MAA1B;;EACA,QAAQC,IAAR;IACE,KAAK,aAAL;MACE,OAAO,EAAE,GAAGF,KAAL;QAAY,GAAGG;MAAf,CAAP;;IACF,KAAK,cAAL;MACE,OAAO,EAAE,GAAGH,KAAL;QAAYF,IAAI,EAAEK;MAAlB,CAAP;;IACF;MACE,MAAM,IAAIC,KAAJ,EAAN;EANJ;AAQD,CAVD;;AAYA,MAAMC,UAAU,gBAAGhB,aAAa,CAAc;EAC5CW,KAAK,EAAEP,YADqC;EAE5Ca,QAAQ,EAAE,MAAM,CAAE;AAF0B,CAAd,CAAhC;;AASA,MAAMC,kBAAmC,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC5D,MAAM,CAACR,KAAD,EAAQM,QAAR,IAAoBhB,UAAU,CAACS,OAAD,EAAUN,YAAV,CAApC;EACA,MAAMgB,KAAK,GAAG;IAAET,KAAF;IAASM;EAAT,CAAd;EAEA,oBAAO,QAAC,UAAD,CAAY,QAAZ;IAAqB,KAAK,EAAEG,KAA5B;IAAA,UAAoCD;EAApC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CALD;;GAAMD,kB;;KAAAA,kB;AAON,SAASF,UAAT,EAAqBE,kBAArB"},"metadata":{},"sourceType":"module"}